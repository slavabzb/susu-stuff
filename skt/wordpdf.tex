\section{Индекс денежного потока}

Индекс денежного потока (MFI от англ. money flow index) — технический индикатор, призванный показать интенсивность, с которой деньги вкладываются в ценную бумагу и выводятся из неё, анализируя объёмы торгов и соотношения типичных цен периодов\cite{stiven}.

В качестве ключевого ценового показателя для индекса денежного потока используется типичная цена (англ. typical price), которая вычисляется по следующей формуле\cite{kolby}: $$\mbox{TypicalPrice}_t=\frac{\mbox{high}_t+\mbox{low}_t+\mbox{close}_t}{3},$$ где $\mbox{TypicalPrice}_t$ -- типичная цена, $\mbox{high}_t$ -- наибольшая цена, $\mbox{low}_t$ -- наименьшая цена, $\mbox{close}_t$ -- цена закрытия рассматриваемого периода $t$.

Денежный поток (англ. money flow) в каждом периоде вычисляется как произведение типичной цены на объём торгов в этом периоде: $$\mbox{MoneyFlow}_t=\mbox{TypicalPrice}_t\cdot\mbox{volume}_t,$$ где $\mbox{MoneyFlow}_t$ -- денежный поток, $\mbox{TypicalPrice}_t$ -- типичная цена, $\mbox{volume}_t$ -- объем торгов.

На основе денежного потока вычисляются положительный и отрицательный денежные потоки: $$\mbox{PositiveMoneyFlow}_t=\mbox{MoneyFlow}_t,\mbox{ if TypicalPrice}_t>\mbox{TypicalPrice}_{t-1},$$ $$\mbox{NegativeMoneyFlow}_t=\mbox{MoneyFlow}_t,\mbox{ if TypicalPrice}_t<\mbox{TypicalPrice}_{t-1},$$ где $\mbox{PositiveMoneyFlow}_t$ и $\mbox{NegativeMoneyFlow}_t$ -- положительный и отрицательный денежные потоки.

Денежное отношение (англ. money ratio) в приложении к индексу MFI равно отношению сумм положительных и отрицательных денежных потоков за выбранный промежуток времени: $$\mbox{MoneyRatio}_{t,n}=\frac{\sum_{i=0}^{n-1}\mbox{PositiveMoneyFlow}_{t-i}}{\sum_{i=0}^{n-1}\mbox{NegativeMoneyFlow}_{t-i}},$$ где $\mbox{MoneyRatio}_{t,n}$ -- денежное отношение в периоде $t$, построенное по $n$ предыдущим периодам.

Индекс денежного потока приводит денежное отношение к интервалу $[0;100]$: $$\mbox{MFI}_{t,n}=100-\frac{100}{1+\mbox{MoneyRatio}_{t,n}}=$$ $$=100\cdot\frac{\sum_{i=0}^{n-1}\mbox{PositiveMoneyFlow}_{t-i}}{\sum_{i=0}^{n-1}\mbox{PositiveMoneyFlow}_{t-i}+\sum_{i=0}^{n-1}\mbox{NegativeMoneyFlow}_{t-i}},$$ где $\mbox{MFI}_{t,n}$ -- значение индекса денежного потока в периоде $t$, построенное по $n$ предыдущим периодам.

Индекс денежного потока является осциллятором в интервале $[0;100]$. Нижние его значения указывают на перепроданность рынка, верхние -- на перекупленность. Все торговые стратегии, применимые к осцилляторам, могут быть использованы и в отношении MFI. Например\cite{stiven}:

\begin{itemize}
\item Купить, когда MFI опускается ниже 20;
\item Продать, когда MFI превышает 80.
\end{itemize}
